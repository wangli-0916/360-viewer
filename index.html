<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>360度居中展示（72张1400x1400）</title>
    <style>
        /* 页面整体样式：居中布局 */
        body {
            margin: 0;
            padding: 20px 0;
            background-color: #f5f5f5;
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        /* 360度展示容器：固定1400x1400，居中，只显示一张图片 */
        .viewer {
            width: 1400px;
            height: 1400px;
            margin: 0 auto;
            position: relative; /* 用于定位左上角的重置按钮 */
            box-shadow: 0 2px 15px rgba(0,0,0,0.1);
            cursor: ew-resize; /* 鼠标样式：左右箭头，提示可左右滑动 */
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            user-select: none;
            -webkit-user-select: none;
        }
        /* 图片样式：居中显示，完整展示 */
        .viewer-img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: opacity 0.1s ease;
            pointer-events: none;
            -webkit-user-drag: none;
            user-drag: none;
        }
        /* 重置按钮：左上角，图标形式 */
        .reset-btn {
            position: absolute;
            top: 20px; /* 距离顶部20px */
            left: 20px; /* 距离左侧20px */
            width: 40px; /* 按钮大小（可根据图标调整） */
            height: 40px;
            background-color: rgba(0,0,0,0.5); /* 半透明黑色背景 */
            border: none;
            border-radius: 50%; /* 圆形按钮（可改为方形：border-radius: 8px） */
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease; /* 悬浮动画 */
            z-index: 10; /* 按钮在图片上方 */
            padding: 5px; /* 内边距，让图标和按钮边缘有间距 */
            box-sizing: border-box; /* 内边距计入宽高 */
        }
        /* 按钮悬浮效果：加深背景色，轻微放大 */
        .reset-btn:hover {
            background-color: rgba(0,0,0,0.8);
            transform: scale(1.1);
        }
        /* 自定义重置图标样式 */
        .reset-icon {
            width: 100%; /* 图标填满按钮（可手动设置：如25px） */
            height: 100%;
            object-fit: contain; /* 图标完整显示，不拉伸 */
            pointer-events: none; /* 图标不接收鼠标事件 */
        }
        /* 响应式适配：小屏幕自动缩小容器和按钮 */
        @media (max-width: 1400px) {
            .viewer {
                width: 100%;
                height: auto;
                max-width: 1400px;
            }
            /* 小屏幕下按钮等比例缩小 */
            .reset-btn {
                width: 30px;
                height: 30px;
            }
        }
    </style>
</head>
<body>
    <!-- 360度展示容器 -->
    <div class="viewer" id="viewer">
        <!-- 重置按钮：左上角自定义图标 -->
        <button class="reset-btn" id="resetBtn">
            <img src="重置.png" alt="重置图标" class="reset-icon">
        </button>
        <!-- 展示图片 -->
        <img src="https://cdn.jsdelivr.net/gh/wangli-0916/360-viewer/1.jpg" alt="360度展示图1" class="viewer-img" id="viewerImg">
    </div>

    <script>
        // ========== 核心配置 ==========
        const imgCount = 72;          
        let sensitivity = 5;         
        let isDragging = false;      
        let startX = 0;              
        let currentIndex = 0;        

        // ========== 元素获取 ==========
        const viewer = document.getElementById('viewer');
        const viewerImg = document.getElementById('viewerImg');
        const resetBtn = document.getElementById('resetBtn');

        // ========== 切换图片 ==========
        function switchImage(index) {
            currentIndex = ((index % imgCount) + imgCount) % imgCount;
            viewerImg.src = `${currentIndex + 1}.jpg`;
            viewerImg.alt = `360度展示图${currentIndex + 1}`;
        }

        // ========== 绑定鼠标拖拽事件 ==========
        function bindDragEvents() {
            viewer.addEventListener('mousedown', (e) => {
                e.preventDefault();
                isDragging = true;
                startX = e.clientX;
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                e.preventDefault();
                const moveX = e.clientX - startX;
                const indexOffset = Math.floor(moveX * sensitivity / 20);
                switchImage(currentIndex - indexOffset);
                startX = e.clientX;
            });

            document.addEventListener('mouseup', (e) => {
                e.preventDefault();
                isDragging = false;
            });

            viewer.addEventListener('mouseleave', (e) => {
                e.preventDefault();
                isDragging = false;
            });
        }

        // ========== 绑定滚轮事件 ==========
        function bindWheelEvent() {
            viewer.addEventListener('wheel', (e) => {
                e.preventDefault();
                if (e.deltaY < 0) {
                    sensitivity = Math.min(sensitivity + 0.5, 20);
                } else {
                    sensitivity = Math.max(sensitivity - 0.5, 1);
                }
            }, { passive: false });
        }

        // ========== 绑定控制按钮事件 ==========
        function bindControlEvents() {
            resetBtn.addEventListener('click', () => {
                switchImage(0);
                // 可选：按钮点击动画反馈（点击后短暂缩小再恢复）
                resetBtn.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    resetBtn.style.transform = '';
                }, 200);
            });
        }

        // ========== 初始化 ==========
        function init() {
            switchImage(0);
            bindDragEvents();
            bindWheelEvent();
            bindControlEvents();
        }

        init();
    </script>
</body>
</html>